name: Publish
run-name: ${{ gitea.actor }} Actions ğŸš€
on:
  push:
    branches:
      - 'release/**'

jobs:
  Publish-Weapp-Actions:
    runs-on: macos-arm64
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ gitea.event_name }} event."
      - run: echo "ğŸ‰ æ£€æŸ¥å½“å‰ç›®å½• ${{ env.GITHUB_WORKSPACE }} ."
      - run: npx gitea-cli origin pull /Users/wmc/work/_temp/gitea-ci/test-repo -r "https://github.com/WumaCoder/gitea-repo"
      - run: cd /Users/wmc/work/_temp/gitea-ci/test-repo
      - run: npx nvm use 18
      - run: npx semantic-release --no-ci
      - run: git push --no-ff
      - run: echo "ğŸ This job's status is ${{ job.status }}."